# Simulation of Named template in Helm

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$ echo "Lets create a use case of Named template in Helm"
Lets create a use case of Named template in Helm

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$ ls -lrt
total 2
-rw-r--r-- 1 MANVENDRA 197121 569 Jul 27 10:55 sandbox.yaml
-rw-r--r-- 1 MANVENDRA 197121 631 Jul 27 11:33 deployment.yaml
-rw-r--r-- 1 MANVENDRA 197121   0 Jul 27 11:34 _helpers.tpl

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$ cat sandbox.yaml 
list: {{ toYaml (list 1 2 3) | nindent 2 }}

#Above is a Helm template that uses the `toYaml` function to convert a list into YAML format, and `nindent` to indent it by 2 spaces.
#Above can also be written as:
list: {{ list 1 2 3 | toYaml | nindent 2 }}

#Lets change the list and values like below.
list:
  values:
    example: {{ toYaml (list 1 2 3) | nindent 6 }}

my-dict: {{ dict "key1" "value1" "key2" "value2" | toYaml | nindent 2 }}

my-dict2: {{ dict "primitive" "mystring" "complex" (dict "key1" "value1" "key2" "value2") | toYaml | nindent 2 }}
MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$ cat deployment.yaml 
apiVersion: apps/v1
kind: Deployment
metadata:
  name: {{ .Release.Name }}-{{ .Chart.Name }}
  labels:
    app: {{ .Chart.Name }}
    release: {{ .Release.Name }}
spec:
  replicas: {{ .Values.replicaCount }}
  selector:
    matchLabels:
      app: {{ .Chart.Name }}
      release: {{ .Release.Name }}
  template:
    metadata:
      labels:
        app: {{ .Chart.Name }}
        release: {{ .Release.Name }}
    spec:
      containers:
        - name: nginx
          image: "{{ .Values.image.name }}:{{ .Values.image.tag }}"
          ports:
            - containerPort: {{ .Values.containerPorts.http }}

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$ cat _helpers.tpl 

MANVENDRA@MANAV-PC MINGW64 /d/PycharmProjects/helm-learning/helm-course/templating-deep-dive/templates (main)
$


